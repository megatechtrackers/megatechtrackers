# MkDocs development server
FROM python:3.11-slim-bookworm

WORKDIR /app

# Install MkDocs with Material theme and plugins (upgrade pip for security and dependency resolution)
RUN pip install --upgrade pip && pip install --no-cache-dir --retries 20 --timeout 1200 \
    mkdocs>=1.5.0 \
    mkdocs-material>=9.0.0 \
    pymdown-extensions>=10.0 \
    mkdocs-minify-plugin>=0.7.0

# Copy mkdocs config
COPY mkdocs.yml /app/mkdocs.yml
COPY docs /app/docs

EXPOSE 8000

# Run MkDocs dev server
CMD ["mkdocs", "serve", "-a", "0.0.0.0:8000"]
