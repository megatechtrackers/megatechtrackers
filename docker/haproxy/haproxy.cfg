global
    log stdout format raw local0
    maxconn 4096

defaults
    log global
    mode tcp
    option tcplog
    timeout connect 5000ms
    timeout client 50000ms
    timeout server 50000ms

frontend rabbitmq_frontend
    bind *:5672
    default_backend rabbitmq_backend

backend rabbitmq_backend
    balance roundrobin
    
    server rabbitmq-1 rabbitmq-1:5672 check inter 5s rise 2 fall 3
    server rabbitmq-2 rabbitmq-2:5672 check inter 5s rise 2 fall 3
    server rabbitmq-3 rabbitmq-3:5672 check inter 5s rise 2 fall 3
