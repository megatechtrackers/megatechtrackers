{
  "title": "System - Health Overview",
  "uid": "system-health",
  "tags": [
    "health",
    "overview",
    "status"
  ],
  "timezone": "browser",
  "schemaVersion": 38,
  "version": 1,
  "refresh": "10s",
  "editable": true,
  "panels": [
    {
      "id": 1,
      "title": "\ud83c\udfe5 OVERALL SYSTEM HEALTH",
      "type": "row",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "collapsed": false
    },
    {
      "id": 2,
      "title": "Alarm Service (Production)",
      "type": "stat",
      "gridPos": {
        "x": 0,
        "y": 1,
        "w": 3,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(rabbitmq_connection_status{job='alarm-service'}) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Alarm Service (Production)"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 3,
      "title": "Alarm Service (Test)",
      "type": "stat",
      "gridPos": {
        "x": 3,
        "y": 1,
        "w": 3,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(rabbitmq_connection_status{job='alarm-service-test'}) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Alarm Service (Test)"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 4,
      "title": "Email Channel",
      "type": "stat",
      "gridPos": {
        "x": 6,
        "y": 1,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "email_channel_available or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Email Channel"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 5,
      "title": "SMS Channel",
      "type": "stat",
      "gridPos": {
        "x": 10,
        "y": 1,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "sms_channel_available or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "SMS Channel"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 6,
      "title": "PostgreSQL",
      "type": "stat",
      "gridPos": {
        "x": 14,
        "y": 1,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(pg_up{job='postgres-primary'}) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "PostgreSQL"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 7,
      "title": "RabbitMQ",
      "type": "stat",
      "gridPos": {
        "x": 18,
        "y": 1,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "rabbitmq_up or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "RabbitMQ"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 8,
      "title": "PgBouncer",
      "type": "stat",
      "gridPos": {
        "x": 22,
        "y": 1,
        "w": 2,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "pgbouncer_up or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "PgBouncer"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 9,
      "title": "Access Gateway",
      "type": "stat",
      "gridPos": {
        "x": 0,
        "y": 5,
        "w": 3,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(up{job=\"access-gateway\"}) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Access Gateway"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 10,
      "title": "Consumer (DB)",
      "type": "stat",
      "gridPos": {
        "x": 3,
        "y": 5,
        "w": 2,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(up{job=\"consumer-service-database\"}) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Consumer (DB)"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 11,
      "title": "Consumer (Alarm)",
      "type": "stat",
      "gridPos": {
        "x": 5,
        "y": 5,
        "w": 2,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(up{job=\"consumer-service-alarm\"}) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Consumer (Alarm)"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 12,
      "title": "Web App",
      "type": "stat",
      "gridPos": {
        "x": 7,
        "y": 5,
        "w": 2,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(up{job=\"web-app\"}) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Web App"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 13,
      "title": "Ops Frontend",
      "type": "stat",
      "gridPos": {
        "x": 9,
        "y": 5,
        "w": 2,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(up{job=\"ops-service-frontend\"}) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Ops Frontend"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 14,
      "title": "\ud83d\udcca KEY METRICS - What's Good vs Bad",
      "type": "row",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "collapsed": false
    },
    {
      "id": 15,
      "title": "Email Success Rate",
      "type": "gauge",
      "gridPos": {
        "x": 0,
        "y": 10,
        "w": 6,
        "h": 5
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(avg(notification_success_rate_email) * 100) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "min": 0,
          "max": 100,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 90,
                "color": "yellow"
              },
              {
                "value": 95,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Email Success Rate"
        }
      },
      "options": {
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        },
        "text": {}
      }
    },
    {
      "id": 16,
      "title": "SMS Success Rate",
      "type": "gauge",
      "gridPos": {
        "x": 6,
        "y": 10,
        "w": 6,
        "h": 5
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(avg(notification_success_rate_sms) * 100) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "min": 0,
          "max": 100,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 90,
                "color": "yellow"
              },
              {
                "value": 95,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "SMS Success Rate"
        }
      },
      "options": {
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        },
        "text": {}
      }
    },
    {
      "id": 17,
      "title": "Email SLA Compliance",
      "type": "gauge",
      "gridPos": {
        "x": 12,
        "y": 10,
        "w": 6,
        "h": 5
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(avg(notification_sla_compliance_email) * 100) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "min": 0,
          "max": 100,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 90,
                "color": "yellow"
              },
              {
                "value": 95,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Email SLA Compliance"
        }
      },
      "options": {
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        },
        "text": {}
      }
    },
    {
      "id": 18,
      "title": "SMS SLA Compliance",
      "type": "gauge",
      "gridPos": {
        "x": 18,
        "y": 10,
        "w": 6,
        "h": 5
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(avg(notification_sla_compliance_sms) * 100) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "min": 0,
          "max": 100,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 90,
                "color": "yellow"
              },
              {
                "value": 95,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "SMS SLA Compliance"
        }
      },
      "options": {
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        },
        "text": {}
      }
    },
    {
      "id": 19,
      "title": "\u26a0\ufe0f ERROR INDICATORS - Should Be Zero",
      "type": "row",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 15
      },
      "collapsed": false
    },
    {
      "id": 20,
      "title": "Queue Depth",
      "type": "stat",
      "gridPos": {
        "x": 0,
        "y": 16,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "rabbitmq_queue_depth or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 1.0,
                "color": "yellow"
              },
              {
                "value": 100.0,
                "color": "red"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Queue Depth"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 21,
      "title": "DLQ Size",
      "type": "stat",
      "gridPos": {
        "x": 4,
        "y": 16,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "dlq_size or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 1,
                "color": "yellow"
              },
              {
                "value": 10,
                "color": "red"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "DLQ Size"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 22,
      "title": "Email Errors",
      "type": "stat",
      "gridPos": {
        "x": 8,
        "y": 16,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "email_send_error or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 1,
                "color": "yellow"
              },
              {
                "value": 5,
                "color": "red"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Email Errors"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 23,
      "title": "SMS Errors",
      "type": "stat",
      "gridPos": {
        "x": 12,
        "y": 16,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "sms_send_error or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 1,
                "color": "yellow"
              },
              {
                "value": 5,
                "color": "red"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "SMS Errors"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 24,
      "title": "Email CB Opens",
      "type": "stat",
      "gridPos": {
        "x": 16,
        "y": 16,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "email_circuit_breaker_open or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 1.0,
                "color": "red"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Email CB Opens"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 25,
      "title": "SMS CB Opens",
      "type": "stat",
      "gridPos": {
        "x": 20,
        "y": 16,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "sms_circuit_breaker_open or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 1.0,
                "color": "red"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "SMS CB Opens"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 26,
      "title": "\ud83d\udcc8 THROUGHPUT - Activity Indicators",
      "type": "row",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "collapsed": false
    },
    {
      "id": 27,
      "title": "Alarms Processed",
      "type": "stat",
      "gridPos": {
        "x": 0,
        "y": 21,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "alarms_processed_total or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "fixed",
            "fixedColor": "#3274D9"
          },
          "noValue": "0",
          "displayName": "Alarms Processed"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 28,
      "title": "Emails Sent",
      "type": "stat",
      "gridPos": {
        "x": 4,
        "y": 21,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "email_sent_total or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "fixed",
            "fixedColor": "#73BF69"
          },
          "noValue": "0",
          "displayName": "Emails Sent"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 29,
      "title": "SMS Sent",
      "type": "stat",
      "gridPos": {
        "x": 8,
        "y": 21,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "sms_sent_total or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "fixed",
            "fixedColor": "#B877D9"
          },
          "noValue": "0",
          "displayName": "SMS Sent"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 30,
      "title": "Trackers Online",
      "type": "stat",
      "gridPos": {
        "x": 12,
        "y": 21,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "fleet_trackers_online or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "fixed",
            "fixedColor": "#FF9830"
          },
          "noValue": "0",
          "displayName": "Trackers Online"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 31,
      "title": "Processing Rate",
      "type": "stat",
      "gridPos": {
        "x": 16,
        "y": 21,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "rabbitmq_messages_processed_rate or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "ops",
          "decimals": 2,
          "color": {
            "mode": "fixed",
            "fixedColor": "#8AB8FF"
          },
          "noValue": "0",
          "displayName": "Processing Rate"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 32,
      "title": "Consumer Lag",
      "type": "stat",
      "gridPos": {
        "x": 20,
        "y": 21,
        "w": 4,
        "h": 4
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(rabbitmq_consumer_lag_ms / 1000) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "s",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 1,
                "color": "yellow"
              },
              {
                "value": 5,
                "color": "red"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Consumer Lag"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 33,
      "title": "\ud83d\udda5\ufe0f INFRASTRUCTURE - Database & Queue Health",
      "type": "row",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 25
      },
      "collapsed": false
    },
    {
      "id": 34,
      "title": "DB Cache Hit Ratio",
      "type": "gauge",
      "gridPos": {
        "x": 0,
        "y": 26,
        "w": 6,
        "h": 5
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "((sum(rate(pg_stat_database_blks_hit{datname='tracking_db',instance='postgres-primary'}[5m])) / (sum(rate(pg_stat_database_blks_hit{datname='tracking_db',instance='postgres-primary'}[5m])) + sum(rate(pg_stat_database_blks_read{datname='tracking_db',instance='postgres-primary'}[5m])) + 0.001)) * 100) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "min": 0,
          "max": 100,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 95.0,
                "color": "yellow"
              },
              {
                "value": 99.0,
                "color": "green"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "DB Cache Hit Ratio"
        }
      },
      "options": {
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        },
        "text": {}
      }
    },
    {
      "id": 35,
      "title": "Replication Lag",
      "type": "stat",
      "gridPos": {
        "x": 6,
        "y": 26,
        "w": 6,
        "h": 5
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "pg_replication_lag_seconds or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "s",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 1,
                "color": "yellow"
              },
              {
                "value": 5,
                "color": "red"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "Replication Lag"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 36,
      "title": "DB Connections",
      "type": "stat",
      "gridPos": {
        "x": 12,
        "y": 26,
        "w": 6,
        "h": 5
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "(pg_stat_database_numbackends{datname='tracking_db',instance='postgres-primary'}) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 400,
                "color": "yellow"
              },
              {
                "value": 450,
                "color": "red"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "DB Connections"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 37,
      "title": "RabbitMQ Messages Ready",
      "type": "stat",
      "gridPos": {
        "x": 18,
        "y": 26,
        "w": 6,
        "h": 5
      },
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "targets": [
        {
          "expr": "sum(rabbitmq_queue_messages_ready) or vector(0)",
          "refId": "A",
          "legendFormat": "",
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "value": null,
                "color": "green"
              },
              {
                "value": 1000.0,
                "color": "yellow"
              },
              {
                "value": 10000.0,
                "color": "red"
              }
            ]
          },
          "color": {
            "mode": "thresholds"
          },
          "noValue": "0",
          "displayName": "RabbitMQ Messages Ready"
        }
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "textMode": "value",
        "orientation": "horizontal",
        "justifyMode": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ]
        }
      }
    },
    {
      "id": 38,
      "title": "\ud83d\udccb THRESHOLD REFERENCE",
      "type": "row",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 31
      },
      "collapsed": false
    },
    {
      "id": 39,
      "title": "Health Thresholds Reference",
      "type": "text",
      "gridPos": {
        "x": 0,
        "y": 32,
        "w": 24,
        "h": 2
      },
      "options": {
        "mode": "markdown",
        "content": "## \ud83d\udea6 Health Indicators Reference\n\n| Metric | \ud83d\udfe2 Good | \ud83d\udfe1 Warning | \ud83d\udd34 Critical |\n|--------|---------|------------|-------------|\n| **Success Rate** | > 95% | 90-95% | < 90% |\n| **SLA Compliance** | > 95% | 90-95% | < 90% |\n| **Queue Depth** | 0 | 1-100 | > 100 |\n| **DLQ Size** | 0 | 1-10 | > 10 |\n| **Errors** | 0 | 1-5 | > 5 |\n| **Circuit Breaker** | 0 opens | - | > 0 opens |\n| **Consumer Lag** | < 1s | 1-5s | > 5s |\n| **DB Cache Hit** | > 99% | 95-99% | < 95% |\n| **Replication Lag** | < 1s | 1-5s | > 5s |\n| **DB Connections** | < 400 | 400-450 | > 450 |\n| **RabbitMQ Ready** | < 1000 | 1000-10000 | > 10000 |\n\n---\n\n### \ud83d\udd17 Quick Links to Dashboards\n- **[Alarm Service](http://localhost:13100)** - Circuit breakers, DLQ, Feature flags\n- **[Mock SMS Server](http://localhost:8086)** - SMS delivery status\n- **[MailHog](http://localhost:8025)** - Email delivery status\n- **[Fleet Monitoring](http://localhost:8080)** - Parser services & trackers\n- **[RabbitMQ](http://localhost:15672)** - Queue management"
      }
    }
  ],
  "templating": {
    "list": []
  },
  "annotations": {
    "list": []
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  }
}